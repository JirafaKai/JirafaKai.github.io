<!DOCTYPE HTML>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="zh-tw">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <meta name="author" content="JirafaKai">

    <link media="all" type="text/css" rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
    <link media="all" type="text/css" rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css">
    
    <!--[if lt IE 9]>
        <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>

<style>

	#search-box{
		margin-top: 60px;
	}
	
	#overlay-loading {
        position: fixed;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        z-index: 100;
        background-color: rgba(0,0,0,0.5);
    }
    #overlay-loading-content{
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        margin: auto;
        width: 300px;
        height: 100px;
        text-align: center;
        color: #fff;
    }
	
	.img30x30{
		width: 30px;
		height: 30px;
	}
	
</style>

<!--
Google spreadsheet = https://docs.google.com/spreadsheets/d/1osCn09v241irWHcW2t21XxVjv41sSRMdb5rCduNG24I/pubhtml
JSON = https://spreadsheets.google.com/feeds/list/1osCn09v241irWHcW2t21XxVjv41sSRMdb5rCduNG24I/od6/public/values?alt=json
-->

<body>
	<!--navigation bar on the top><!-->
    <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="navbar-brand" href="#">
            <span class="hidden-xs">WCP-TW</span>
        </div>
        <ul class="nav navbar-nav">
            <li class="active"><a href="#">Test</a></li>
        </ul>
	</nav>
	
	<!--Search Box in the middle><!-->
	<div id="search-box">
        <div class="container">
	        <form class="form">
			    <label for="inputKeyword" class="sr-only">關鍵字</label>
		        <input type="text" id="inputKeyword" class="form-control" placeholder="請輸入關鍵字 ex. 紅蓮、弓手、杖" required autofocus>
		    </form>
        </div>
	</div>
	
	<div id="charTable">
		<table class="table table-striped">
			<tbody id="result">
				
			</tbody>
		</table>
	</div>

	<div id="overlay-loading">
		<div id="overlay-loading-content">
			<i class="fa fa-spinner fa-pulse fa-4x"></i>
            <div>從 google spreadsheets 讀取問題資料（<span id="loaded-count"></span>）</div>
        </div>
    </div>

	
	<script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>
	<script src="http://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
	
	<script>
	var exeOrder = 0;
	var sheetId = '1osCn09v241irWHcW2t21XxVjv41sSRMdb5rCduNG24I';
	var finishCount = 0;
	var gridIds = {
		'charactor' : ['charactor', 'loadChar']
		//'weapon'	: ['weapon', 'loadWeapon']
	};
	
	var imgSrc = [];
	var charName = [];
	var charType = [];
	var comment = [];
	
	function testPrint(){
		$("#result").append(charName.length + '<br/>');
		for (var i=0; i<charName.length; i++){
			$("#result").append(charName[i] + charType[i] + '<br/>'); 
		}
		
	}
	
	$(document).ready(
		function() {
	
		var urlScript = "https://spreadsheets.google.com/feeds/list/1osCn09v241irWHcW2t21XxVjv41sSRMdb5rCduNG24I/od6/public/values?alt=json";
		
		$.getJSON(urlScript, 
			function(JData){
				for (var i=0; i<JData.feed.entry.length; i++){
					//imgSrc[i]   = JData.feed.entry[i].gsx$imgsrc.$t;
					charName[i] = JData.feed.entry[i].gsx$charname.$t;
					charType[i] = JData.feed.entry[i].gsx$chartype.$t;
			}
			testPrint();
			$("#overlay-loading").remove();
		});
		
		

		
		$("inputKeyword").onKeyup = 
			function(){
				$("#result").append("success");
		};
		//$("inputKeyword").on("keyup", function searchKey());
		
		
		
		
			function() {
				var val = $(this).val().toLowerCase();
				for (var i=0; i<charData.length; i++){
					if (charData[i].indexOf(val) !== -1)
						$("#result").append(charData[i]);
		
				$("#overlay-loading").remove();
			}); //$("inputKeyword").on()
		*/
		}); //$(document).ready()
		//*/
	</script>


</body>
</html>
